\hypertarget{validity_8h}{}\section{src/validity.h File Reference}
\label{validity_8h}\index{src/validity.\+h@{src/validity.\+h}}
{\ttfamily \#include \char`\"{}javaclass.\+h\char`\"{}}\\*
Include dependency graph for validity.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char \hyperlink{validity_8h_ab2766291f4f973e570e8c07226551714}{check\+Method\+Access\+Flags} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc, uint16\+\_\+t acess\+Flags)
\begin{DoxyCompactList}\small\item\em Checks whether the \char`\"{}access\+Flags\char`\"{} parameter has a valid combination of method flags. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_a58b0662fcc3ef5becbd8e597f22e1271}{check\+Field\+Access\+Flags} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc, uint16\+\_\+t acess\+Flags)
\begin{DoxyCompactList}\small\item\em Checks whether the \char`\"{}access\+Flags\char`\"{} parameter has a valid combination of field flags. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_a3f8d1665f8c40afb0bf126a9ca693b00}{check\+Class\+Index\+And\+Access\+Flags} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc)
\begin{DoxyCompactList}\small\item\em Verifies the class indexes and access flags. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_af6d2b7c857a46255df3afb4283c5e5bb}{check\+Class\+Name\+File\+Name\+Match} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc, const char $\ast$class\+File\+Path)
\begin{DoxyCompactList}\small\item\em Checks whether the name of the class pointed by \char`\"{}this\+Class\char`\"{} is the same name as the class file. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_ac49e5a4017228d024b3c8d4b7ae6e27e}{is\+Valid\+Java\+Identifier} (uint8\+\_\+t $\ast$utf8\+\_\+bytes, int32\+\_\+t utf8\+\_\+len, uint8\+\_\+t is\+Class\+Identifier)
\begin{DoxyCompactList}\small\item\em Checks whether the U\+T\+F-\/8 stream is a valid Java Identifier. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_ae0b08a08925ed5f9b128b7e4761a1fd7}{is\+Valid\+Name\+Index} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc, uint16\+\_\+t name\+\_\+index, uint8\+\_\+t is\+Class\+Identifier)
\begin{DoxyCompactList}\small\item\em Identifies if a name index in \hyperlink{structJavaClass}{Java\+Class} is valid. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_a778bd378bf5e58d2b5dc40601734b813}{is\+Valid\+Method\+Name\+Index} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc, uint16\+\_\+t name\+\_\+index)
\begin{DoxyCompactList}\small\item\em checks if the name index points to a valid U\+T\+F-\/8 and is a valid java identifier. \end{DoxyCompactList}\item 
char \hyperlink{validity_8h_aa0977a766bc0cd47a49ca0e00e706310}{check\+Constant\+Pool\+Validity} (\hyperlink{structJavaClass}{Java\+Class} $\ast$jc)
\begin{DoxyCompactList}\small\item\em Iterates over the constant pool looking for inconsistencies in it. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{validity.\+h@{validity.\+h}!check\+Class\+Index\+And\+Access\+Flags@{check\+Class\+Index\+And\+Access\+Flags}}
\index{check\+Class\+Index\+And\+Access\+Flags@{check\+Class\+Index\+And\+Access\+Flags}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{check\+Class\+Index\+And\+Access\+Flags(\+Java\+Class $\ast$jc)}{checkClassIndexAndAccessFlags(JavaClass *jc)}}]{\setlength{\rightskip}{0pt plus 5cm}char check\+Class\+Index\+And\+Access\+Flags (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_a3f8d1665f8c40afb0bf126a9ca693b00}{}\label{validity_8h_a3f8d1665f8c40afb0bf126a9ca693b00}


Verifies the class indexes and access flags. 

Checks whether the access\+Flags from the class file is a valid combination of class flags. This function also checks if \char`\"{}this\+Class\char`\"{} and \char`\"{}super\+Class\char`\"{} points to valid class indexes.


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the class to be checked\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
In case of issues, jc-\/$>$status is changed, and the function returns 0. Otherwise, nothing is changed with jc, and the return value is 1. This function also 
\end{DoxyReturn}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_a3f8d1665f8c40afb0bf126a9ca693b00_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!check\+Class\+Name\+File\+Name\+Match@{check\+Class\+Name\+File\+Name\+Match}}
\index{check\+Class\+Name\+File\+Name\+Match@{check\+Class\+Name\+File\+Name\+Match}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{check\+Class\+Name\+File\+Name\+Match(\+Java\+Class $\ast$jc, const char $\ast$class\+File\+Path)}{checkClassNameFileNameMatch(JavaClass *jc, const char *classFilePath)}}]{\setlength{\rightskip}{0pt plus 5cm}char check\+Class\+Name\+File\+Name\+Match (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc, }
\item[{const char $\ast$}]{class\+File\+Path}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_af6d2b7c857a46255df3afb4283c5e5bb}{}\label{validity_8h_af6d2b7c857a46255df3afb4283c5e5bb}


Checks whether the name of the class pointed by \char`\"{}this\+Class\char`\"{} is the same name as the class file. 

This function also checks if the folder location match with the class package.


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the class holding the constant pool\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If there is a mismatch, the function returns 0. Otherwise, the return value is 1. 
\end{DoxyReturn}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_af6d2b7c857a46255df3afb4283c5e5bb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_af6d2b7c857a46255df3afb4283c5e5bb_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!check\+Constant\+Pool\+Validity@{check\+Constant\+Pool\+Validity}}
\index{check\+Constant\+Pool\+Validity@{check\+Constant\+Pool\+Validity}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{check\+Constant\+Pool\+Validity(\+Java\+Class $\ast$jc)}{checkConstantPoolValidity(JavaClass *jc)}}]{\setlength{\rightskip}{0pt plus 5cm}char check\+Constant\+Pool\+Validity (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_aa0977a766bc0cd47a49ca0e00e706310}{}\label{validity_8h_aa0977a766bc0cd47a49ca0e00e706310}


Iterates over the constant pool looking for inconsistencies in it. 


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the java\+Class holding the constant pool to be checked.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If no error is encountered, the function returns 1. In case of failures, the function will set jc-\/$>$status accordingly and will return 0. 
\end{DoxyReturn}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_aa0977a766bc0cd47a49ca0e00e706310_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_aa0977a766bc0cd47a49ca0e00e706310_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!check\+Field\+Access\+Flags@{check\+Field\+Access\+Flags}}
\index{check\+Field\+Access\+Flags@{check\+Field\+Access\+Flags}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{check\+Field\+Access\+Flags(\+Java\+Class $\ast$jc, uint16\+\_\+t acess\+Flags)}{checkFieldAccessFlags(JavaClass *jc, uint16_t acessFlags)}}]{\setlength{\rightskip}{0pt plus 5cm}char check\+Field\+Access\+Flags (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc, }
\item[{uint16\+\_\+t}]{access\+Flags}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_a58b0662fcc3ef5becbd8e597f22e1271}{}\label{validity_8h_a58b0662fcc3ef5becbd8e597f22e1271}


Checks whether the \char`\"{}access\+Flags\char`\"{} parameter has a valid combination of field flags. 

The following status can be set by calling this function\+:
\begin{DoxyItemize}
\item U\+S\+E\+\_\+\+O\+F\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+F\+I\+E\+L\+D\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+F\+L\+A\+GS
\item I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+F\+L\+A\+GS
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the class containing the field \\
\hline
{\em uint16\+\_\+t} & access\+Flags -\/ field flags to be checked\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
In case of issues, jc-\/$>$status is changed, and the function returns 0. Otherwise, nothing is changed with jc, and the return value is 1. 
\end{DoxyReturn}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_a58b0662fcc3ef5becbd8e597f22e1271_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!check\+Method\+Access\+Flags@{check\+Method\+Access\+Flags}}
\index{check\+Method\+Access\+Flags@{check\+Method\+Access\+Flags}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{check\+Method\+Access\+Flags(\+Java\+Class $\ast$jc, uint16\+\_\+t acess\+Flags)}{checkMethodAccessFlags(JavaClass *jc, uint16_t acessFlags)}}]{\setlength{\rightskip}{0pt plus 5cm}char check\+Method\+Access\+Flags (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc, }
\item[{uint16\+\_\+t}]{access\+Flags}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_ab2766291f4f973e570e8c07226551714}{}\label{validity_8h_ab2766291f4f973e570e8c07226551714}


Checks whether the \char`\"{}access\+Flags\char`\"{} parameter has a valid combination of method flags. 

The following status can be set by calling this function\+:
\begin{DoxyItemize}
\item U\+S\+E\+\_\+\+O\+F\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+M\+E\+T\+H\+O\+D\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+F\+L\+A\+GS
\item I\+N\+V\+A\+L\+I\+D\+\_\+\+A\+C\+C\+E\+S\+S\+\_\+\+F\+L\+A\+GS
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the class containing the method \\
\hline
{\em uint16\+\_\+t} & access\+Flags -\/ method flags to be checked\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
In case of issues, jc-\/$>$status is changed, and the function returns 0. Otherwise, nothing is changed with jc, and the return value is 1. 
\end{DoxyReturn}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_ab2766291f4f973e570e8c07226551714_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!is\+Valid\+Java\+Identifier@{is\+Valid\+Java\+Identifier}}
\index{is\+Valid\+Java\+Identifier@{is\+Valid\+Java\+Identifier}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{is\+Valid\+Java\+Identifier(uint8\+\_\+t $\ast$utf8\+\_\+bytes, int32\+\_\+t utf8\+\_\+len, uint8\+\_\+t is\+Class\+Identifier)}{isValidJavaIdentifier(uint8_t *utf8_bytes, int32_t utf8_len, uint8_t isClassIdentifier)}}]{\setlength{\rightskip}{0pt plus 5cm}char is\+Valid\+Java\+Identifier (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{utf8\+\_\+bytes, }
\item[{int32\+\_\+t}]{utf8\+\_\+len, }
\item[{uint8\+\_\+t}]{is\+Class\+Identifier}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_ac49e5a4017228d024b3c8d4b7ae6e27e}{}\label{validity_8h_ac49e5a4017228d024b3c8d4b7ae6e27e}


Checks whether the U\+T\+F-\/8 stream is a valid Java Identifier. 

A java identifer (class name, variable name, etc) must start with underscore, dollar sign or letter, and could finish with numbers, letters, dollar sign or underscore.


\begin{DoxyParams}{Parameters}
{\em uint8\+\_\+t$\ast$} & utf8\+\_\+bytes -\/ pointer to the sequence of bytes that identify the class name \\
\hline
{\em int32\+\_\+t} & utf8\+\_\+len -\/ legth of class name \\
\hline
{\em uint8\+\_\+t} & is\+Class\+Identifier -\/ if set to anything but zero, then this function will accept slashes (/) as valid characters for identifiers. Classes have their full path separated by slashes, so this must be set to any value other than zero to check classes.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns 1 if it the string is indeed a valid Java Identifier, otherwise zero. 
\end{DoxyReturn}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_ac49e5a4017228d024b3c8d4b7ae6e27e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_ac49e5a4017228d024b3c8d4b7ae6e27e_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!is\+Valid\+Method\+Name\+Index@{is\+Valid\+Method\+Name\+Index}}
\index{is\+Valid\+Method\+Name\+Index@{is\+Valid\+Method\+Name\+Index}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{is\+Valid\+Method\+Name\+Index(\+Java\+Class $\ast$jc, uint16\+\_\+t name\+\_\+index)}{isValidMethodNameIndex(JavaClass *jc, uint16_t name_index)}}]{\setlength{\rightskip}{0pt plus 5cm}char is\+Valid\+Method\+Name\+Index (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc, }
\item[{uint16\+\_\+t}]{name\+\_\+index}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_a778bd378bf5e58d2b5dc40601734b813}{}\label{validity_8h_a778bd378bf5e58d2b5dc40601734b813}


checks if the name index points to a valid U\+T\+F-\/8 and is a valid java identifier. 

The difference between this function and \hyperlink{validity_8c_ae0b08a08925ed5f9b128b7e4761a1fd7}{is\+Valid\+Name\+Index()} is that this function accepts \char`\"{}$<$init$>$\char`\"{} and \char`\"{}$<$clinit$>$\char`\"{} as valid names for methods, whereas \hyperlink{validity_8c_ae0b08a08925ed5f9b128b7e4761a1fd7}{is\+Valid\+Name\+Index()} (when consenquently calling \hyperlink{validity_8c_ac49e5a4017228d024b3c8d4b7ae6e27e}{is\+Valid\+Java\+Identifier()}) wouldn\textquotesingle{}t accept those names as valid.


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the class holding the constant pool \\
\hline
{\em uint16\+\_\+t} & name\+\_\+index -\/ name\+\_\+index to be check\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns 1 if \char`\"{}name\+\_\+index\char`\"{} points to a valid U\+T\+F-\/8 and is a valid java identifier. Returns 0 otherwise. 
\end{DoxyReturn}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_a778bd378bf5e58d2b5dc40601734b813_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_a778bd378bf5e58d2b5dc40601734b813_icgraph}
\end{center}
\end{figure}


\index{validity.\+h@{validity.\+h}!is\+Valid\+Name\+Index@{is\+Valid\+Name\+Index}}
\index{is\+Valid\+Name\+Index@{is\+Valid\+Name\+Index}!validity.\+h@{validity.\+h}}
\subsubsection[{\texorpdfstring{is\+Valid\+Name\+Index(\+Java\+Class $\ast$jc, uint16\+\_\+t name\+\_\+index, uint8\+\_\+t is\+Class\+Identifier)}{isValidNameIndex(JavaClass *jc, uint16_t name_index, uint8_t isClassIdentifier)}}]{\setlength{\rightskip}{0pt plus 5cm}char is\+Valid\+Name\+Index (
\begin{DoxyParamCaption}
\item[{{\bf Java\+Class} $\ast$}]{jc, }
\item[{uint16\+\_\+t}]{name\+\_\+index, }
\item[{uint8\+\_\+t}]{is\+Class\+Identifier}
\end{DoxyParamCaption}
)}\hypertarget{validity_8h_ae0b08a08925ed5f9b128b7e4761a1fd7}{}\label{validity_8h_ae0b08a08925ed5f9b128b7e4761a1fd7}


Identifies if a name index in \hyperlink{structJavaClass}{Java\+Class} is valid. 


\begin{DoxyParams}{Parameters}
{\em Java\+Class$\ast$} & jc -\/ pointer to the class holding the constant pool \\
\hline
{\em uint8\+\_\+t} & is\+Class\+Identifier -\/ if set to zero, will not accept slashes (/) as valid identifier characters. If \char`\"{}is\+Class\+Identifier\char`\"{} is different than zero, then classes with slashes in its name like \char`\"{}java/io/\+Stream\char`\"{} will be accepted as valid names. \\
\hline
{\em uint16\+\_\+t} & name\+\_\+index -\/ name\+\_\+index to be checked. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns 1 if \char`\"{}name\+\_\+index\char`\"{} points to a valid U\+T\+F-\/8 and is a valid java identifier. Returns 0 otherwise. 
\end{DoxyReturn}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_ae0b08a08925ed5f9b128b7e4761a1fd7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{validity_8h_ae0b08a08925ed5f9b128b7e4761a1fd7_icgraph}
\end{center}
\end{figure}


